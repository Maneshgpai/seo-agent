{
  "version": 3,
  "sources": ["app.ts"],
  "sourcesContent": ["/**\n * SEO Agent Frontend Application\n * Handles form submission, reCAPTCHA verification, analysis process, and report display\n * Connects to backend API for real SEO analysis.\n * All keys/IDs (e.g. RECAPTCHA_SITE_KEY) are injected by the server from env - never hardcoded.\n */\n\n// Configuration: keys and feature flags come from window.__ENV__ (injected by server from .env)\ndeclare global {\n  interface Window {\n    __ENV__?: {\n      RECAPTCHA_SITE_KEY?: string;\n      ENABLE_RECAPTCHA?: boolean;\n    };\n  }\n}\n\nconst CONFIG = {\n  RECAPTCHA_SITE_KEY: (typeof window !== 'undefined' && window.__ENV__?.RECAPTCHA_SITE_KEY) || '',\n  ENABLE_RECAPTCHA: (typeof window !== 'undefined' && window.__ENV__?.ENABLE_RECAPTCHA) === true,\n  API_ENDPOINT: '/api/analyze',\n  API_STREAM_ENDPOINT: '/api/analyze/stream',\n  USE_STREAMING: true,\n};\n\n// Type definitions\ninterface AnalysisOptions {\n  url: string;\n  mode: 'single' | 'site';\n  maxPages?: number;\n}\n\ninterface ThinkingStep {\n  id: string;\n  title: string;\n  detail?: string;\n  status: 'pending' | 'running' | 'done' | 'error' | 'warning' | 'skipped';\n}\n\ninterface SEOReport {\n  url: string;\n  analyzedAt: string;\n  scores: {\n    overall: number;\n    basic: number;\n    intermediate: number;\n    advanced: number;\n  };\n  summary: {\n    totalChecks: number;\n    passed: number;\n    failed: number;\n    warnings: number;\n  };\n  issues: Array<{\n    category: string;\n    checkName: string;\n    status: string;\n    description: string;\n    recommendation: string;\n  }>;\n  pageSpeed?: {\n    coreWebVitals: Record<string, { value: number; rating: string; displayValue: string }>;\n    lighthouseScores: Record<string, number | null>;\n  };\n}\n\n/** Site analysis: multiple pages with per-page scores and issues */\ninterface SiteReport {\n  baseUrl: string;\n  analyzedAt: string;\n  depth: string;\n  crawlStats: { totalCrawled: number; failedPages: number; crawlDuration: number };\n  scores: { overall: number; averagePageScore: number; lowestPageScore: number; highestPageScore: number };\n  pageAnalyses: Array<{ url: string; score: number; issues: unknown[]; criticalCount: number; warningCount: number }>;\n  recommendations?: { critical: string[]; important: string[]; suggestions: string[] };\n}\n\ninterface ApiResponse {\n  success: boolean;\n  report: SEOReport | null;\n  siteReport: SiteReport | null;\n  textReport: string;\n  error?: string;\n}\n\n// DOM Elements\nconst seoForm = document.getElementById('seo-form') as HTMLFormElement;\nconst submitBtn = document.getElementById('submit-btn') as HTMLButtonElement;\nconst btnText = submitBtn.querySelector('.btn-text') as HTMLSpanElement;\nconst btnLoader = submitBtn.querySelector('.btn-loader') as HTMLSpanElement;\nconst thinkingPanel = document.getElementById('thinking-panel') as HTMLDivElement;\nconst thinkingContent = document.getElementById('thinking-content') as HTMLDivElement;\nconst resultsSection = document.getElementById('results-section') as HTMLDivElement;\nconst resultsSummary = document.getElementById('results-summary') as HTMLDivElement;\nconst overallScore = document.getElementById('overall-score') as HTMLDivElement;\nconst toggleBtns = document.querySelectorAll('.toggle-btn') as NodeListOf<HTMLButtonElement>;\nconst modeInput = document.getElementById('mode') as HTMLInputElement;\nconst siteOptions = document.querySelector('.site-options') as HTMLDivElement;\nconst downloadPdfBtn = document.getElementById('download-pdf') as HTMLButtonElement;\nconst downloadJsonBtn = document.getElementById('download-json') as HTMLButtonElement;\nconst downloadTextBtn = document.getElementById('download-text') as HTMLButtonElement;\nconst newAnalysisBtn = document.getElementById('new-analysis') as HTMLButtonElement;\nconst minimizeThinkingBtn = document.getElementById('minimize-thinking') as HTMLButtonElement;\n\n// State: single-page report or site report (mutually exclusive)\nlet currentReport: SEOReport | null = null;\nlet currentSiteReport: SiteReport | null = null;\nlet currentTextReport: string = '';\nlet thinkingSteps: ThinkingStep[] = [];\n\n/**\n * Initialize the application\n */\nfunction init(): void {\n  // Form submission handler\n  seoForm.addEventListener('submit', handleFormSubmit);\n\n  // Toggle buttons for analysis mode\n  toggleBtns.forEach(btn => {\n    btn.addEventListener('click', () => handleModeToggle(btn));\n  });\n\n  // Download buttons (PDF is primary; JSON and text also available)\n  downloadPdfBtn.addEventListener('click', () => downloadReport('pdf'));\n  downloadJsonBtn.addEventListener('click', () => downloadReport('json'));\n  downloadTextBtn.addEventListener('click', () => downloadReport('text'));\n\n  // New analysis button\n  newAnalysisBtn.addEventListener('click', resetForm);\n\n  // Minimize thinking panel\n  minimizeThinkingBtn.addEventListener('click', toggleThinkingPanel);\n\n  // Smooth scroll for anchor links - enhanced for all devices\n  document.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\n    anchor.addEventListener('click', (e) => {\n      e.preventDefault();\n      const href = (anchor as HTMLAnchorElement).getAttribute('href');\n      if (!href) return;\n      \n      const target = document.querySelector(href) as HTMLElement;\n      if (target) {\n        // Get the element's position relative to the document\n        const elementPosition = target.getBoundingClientRect().top + window.pageYOffset;\n        const scrollPadding = parseInt(getComputedStyle(document.documentElement).scrollPaddingTop || '0') || 16;\n        const offsetPosition = elementPosition - scrollPadding;\n        \n        // Use window.scrollTo for reliable cross-browser support on desktop and mobile\n        // This method works consistently across all browsers and screen sizes\n        window.scrollTo({\n          top: offsetPosition,\n          behavior: 'smooth'\n        });\n      }\n    });\n  });\n}\n\n/**\n * Handle mode toggle between single page and full site\n */\nfunction handleModeToggle(clickedBtn: HTMLButtonElement): void {\n  toggleBtns.forEach(btn => btn.classList.remove('active'));\n  clickedBtn.classList.add('active');\n  \n  const mode = clickedBtn.dataset.mode as 'single' | 'site';\n  modeInput.value = mode;\n  \n  // Show/hide site-specific options\n  siteOptions.style.display = mode === 'site' ? 'block' : 'none';\n}\n\n/**\n * Handle form submission\n */\nasync function handleFormSubmit(e: Event): Promise<void> {\n  e.preventDefault();\n\n  // Validate form \u2014 use active toggle as source of truth for mode (not only hidden input)\n  const formData = new FormData(seoForm);\n  const url = formData.get('url') as string;\n  const activeToggle = document.querySelector('.toggle-btn.active');\n  const mode = ((activeToggle?.getAttribute('data-mode') || formData.get('mode') || 'single') as string).trim().toLowerCase() === 'site' ? 'site' : 'single';\n  const maxPagesRaw = parseInt(String(formData.get('maxPages')), 10);\n  const maxPages = Math.min(Math.max(Number.isNaN(maxPagesRaw) ? 50 : maxPagesRaw, 1), 500);\n\n  if (!validateUrl(url)) {\n    showError('Please enter a valid URL starting with http:// or https://');\n    return;\n  }\n\n  // Execute reCAPTCHA if enabled\n  let recaptchaToken = '';\n  if (CONFIG.ENABLE_RECAPTCHA) {\n    try {\n      recaptchaToken = await executeRecaptcha();\n    } catch (error) {\n      showError('reCAPTCHA verification failed. Please try again.');\n      return;\n    }\n  }\n\n  // Start analysis (depth is always 'all' for full analysis)\n  const options: AnalysisOptions = {\n    url,\n    mode,\n    maxPages: mode === 'site' ? maxPages : undefined,\n  };\n\n  await startAnalysis(options, recaptchaToken);\n}\n\n/**\n * Execute reCAPTCHA v3\n */\nfunction executeRecaptcha(): Promise<string> {\n  return new Promise((resolve, reject) => {\n    if (!CONFIG.RECAPTCHA_SITE_KEY) {\n      reject(new Error('reCAPTCHA site key not configured'));\n      return;\n    }\n    if (typeof grecaptcha === 'undefined') {\n      reject(new Error('reCAPTCHA not loaded'));\n      return;\n    }\n\n    grecaptcha.ready(() => {\n      grecaptcha\n        .execute(CONFIG.RECAPTCHA_SITE_KEY, { action: 'analyze' })\n        .then(resolve)\n        .catch(reject);\n    });\n  });\n}\n\n/**\n * Start the analysis process\n */\nasync function startAnalysis(options: AnalysisOptions, recaptchaToken: string): Promise<void> {\n  // Update UI to loading state\n  setLoadingState(true);\n  showThinkingPanel();\n  hideResults();\n\n  // Initialize thinking steps\n  initThinkingSteps(options);\n\n  try {\n    if (CONFIG.USE_STREAMING) {\n      const result = await performStreamingAnalysis(options);\n      currentReport = result.report;\n      currentSiteReport = result.siteReport;\n      showResults(result.report, result.siteReport);\n    } else {\n      const result = await performAnalysis(options, recaptchaToken);\n      currentReport = result.report;\n      currentSiteReport = result.siteReport;\n      showResults(result.report, result.siteReport);\n    }\n  } catch (error) {\n    const errorMessage = (error as Error).message || 'Analysis failed. Please try again.';\n    addThinkingStep('error', 'Analysis failed', errorMessage, 'error');\n    showError(errorMessage);\n  } finally {\n    setLoadingState(false);\n  }\n}\n\n/**\n * Initialize thinking steps based on analysis options\n * Depth is always 'all' for full analysis\n */\nfunction initThinkingSteps(options: AnalysisOptions): void {\n  thinkingSteps = [\n    { id: 'validate', title: 'Validating URL', status: 'pending' },\n    { id: 'crawl', title: options.mode === 'site' ? 'Crawling website' : 'Loading page', status: 'pending' },\n    { id: 'basic', title: 'Running basic SEO checks', status: 'pending' },\n    { id: 'intermediate', title: 'Running intermediate checks', status: 'pending' },\n    { id: 'advanced', title: 'Running advanced checks', status: 'pending' },\n    { id: 'pagespeed', title: 'Fetching PageSpeed Insights', status: 'pending' },\n    { id: 'report', title: 'Generating report', status: 'pending' },\n  ];\n\n  renderThinkingSteps();\n}\n\n/**\n * Add a new thinking step dynamically\n */\nfunction addThinkingStep(id: string, title: string, detail: string, status: ThinkingStep['status']): void {\n  const existingIndex = thinkingSteps.findIndex(s => s.id === id);\n  if (existingIndex >= 0) {\n    thinkingSteps[existingIndex] = { id, title, detail, status };\n  } else {\n    thinkingSteps.push({ id, title, detail, status });\n  }\n  renderThinkingSteps();\n}\n\n/**\n * Render thinking steps in the UI\n */\nfunction renderThinkingSteps(): void {\n  thinkingContent.innerHTML = thinkingSteps.map(step => `\n    <div class=\"thinking-step\" data-step-id=\"${step.id}\">\n      <div class=\"step-icon ${step.status}\">${getStepIcon(step.status)}</div>\n      <div class=\"step-content\">\n        <div class=\"step-title\">${step.title}</div>\n        ${step.detail ? `<div class=\"step-detail\">${step.detail}</div>` : ''}\n      </div>\n    </div>\n  `).join('');\n\n  // Update panel header title to current/running step (like sample)\n  const titleEl = thinkingPanel.querySelector('.thinking-title');\n  if (titleEl) {\n    const running = thinkingSteps.find(s => s.status === 'running');\n    const lastActive = [...thinkingSteps].reverse().find(s => s.status !== 'pending');\n    titleEl.textContent = running?.title ?? lastActive?.title ?? thinkingSteps[0]?.title ?? 'AI Agent Thinking';\n  }\n\n  thinkingContent.scrollTop = thinkingContent.scrollHeight;\n}\n\n/**\n * Get icon for step status\n */\nfunction getStepIcon(status: string): string {\n  switch (status) {\n    case 'pending': return '\u25CB';\n    case 'running': return '\u25D0';\n    case 'done': return '\u2713';\n    case 'error': return '\u2717';\n    case 'warning': return '\u26A0';\n    case 'skipped': return '\u2212';\n    default: return '\u25CB';\n  }\n}\n\n/**\n * Update a thinking step's status\n */\nfunction updateThinkingStep(stepId: string, status: ThinkingStep['status'], detail?: string): void {\n  const step = thinkingSteps.find(s => s.id === stepId);\n  if (step) {\n    step.status = status;\n    if (detail !== undefined) step.detail = detail;\n    renderThinkingSteps();\n  }\n}\n\n/**\n * Perform analysis using Server-Sent Events for real-time progress\n */\nasync function performStreamingAnalysis(options: AnalysisOptions): Promise<{ report: SEOReport | null; siteReport: SiteReport | null }> {\n  return new Promise((resolve, reject) => {\n    let resolved = false;\n    const mode = options.mode === 'site' ? 'site' : 'single';\n    const params = new URLSearchParams();\n    params.set('url', options.url);\n    params.set('depth', 'all');\n    params.set('mode', mode);\n    if (mode === 'site' && options.maxPages != null) {\n      params.set('maxPages', String(options.maxPages));\n    }\n\n    const eventSource = new EventSource(`${CONFIG.API_STREAM_ENDPOINT}?${params.toString()}`);\n\n    eventSource.addEventListener('step', (event) => {\n      const data = JSON.parse((event as MessageEvent).data);\n      updateThinkingStep(data.id, data.status, data.detail || data.title);\n    });\n\n    eventSource.addEventListener('complete', (event) => {\n      const data = JSON.parse((event as MessageEvent).data);\n      currentTextReport = data.textReport || '';\n      resolved = true;\n      eventSource.close();\n      resolve({\n        report: data.report ?? null,\n        siteReport: data.siteReport ?? null,\n      });\n    });\n\n    eventSource.addEventListener('error', (event) => {\n      eventSource.close();\n      if (resolved) return;\n      if (event instanceof MessageEvent && typeof event.data === 'string' && event.data) {\n        try {\n          const data = JSON.parse(event.data);\n          reject(new Error(data.message || 'Analysis failed'));\n        } catch {\n          reject(new Error('Connection to server lost'));\n        }\n      } else {\n        reject(new Error('Connection to server lost'));\n      }\n    });\n\n    setTimeout(() => {\n      if (eventSource.readyState !== EventSource.CLOSED) {\n        eventSource.close();\n        reject(new Error('Analysis timed out. Please try again.'));\n      }\n    }, 180000);\n  });\n}\n\n/**\n * Perform analysis using regular POST request\n */\nasync function performAnalysis(options: AnalysisOptions, recaptchaToken: string): Promise<{ report: SEOReport | null; siteReport: SiteReport | null }> {\n  const simulateSteps = async () => {\n    updateThinkingStep('validate', 'running');\n    await delay(300);\n    updateThinkingStep('validate', 'done');\n    updateThinkingStep('crawl', 'running');\n  };\n\n  simulateSteps();\n\n  const body: Record<string, unknown> = {\n    url: options.url,\n    depth: 'all',\n    recaptchaToken,\n    mode: options.mode || 'single',\n  };\n  if (options.mode === 'site' && options.maxPages != null) {\n    body.maxPages = options.maxPages;\n  }\n\n  const response = await fetch(CONFIG.API_ENDPOINT, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(body),\n  });\n\n  const data: ApiResponse = await response.json();\n\n  if (!response.ok || !data.success) {\n    throw new Error(data.error || 'Analysis failed');\n  }\n\n  thinkingSteps.forEach(step => { step.status = 'done'; });\n  renderThinkingSteps();\n  currentTextReport = data.textReport || '';\n\n  return {\n    report: data.report ?? null,\n    siteReport: data.siteReport ?? null,\n  };\n}\n\n/**\n * Show the results section with the report data (single page or site)\n */\nfunction showResults(report: SEOReport | null, siteReport: SiteReport | null): void {\n  const isSite = siteReport != null && siteReport.pageAnalyses?.length > 0;\n  const score = isSite ? siteReport.scores.averagePageScore : (report?.scores.overall ?? 0);\n  const scoreValue = overallScore.querySelector('.score-value') as HTMLSpanElement;\n  scoreValue.textContent = String(score);\n\n  overallScore.style.background = getScoreGradient(score);\n  overallScore.style.color = '#fff';\n\n  if (isSite) {\n    const totalIssues = siteReport.pageAnalyses.reduce((sum, p) => sum + p.issues.length, 0);\n    const totalCritical = siteReport.pageAnalyses.reduce((sum, p) => sum + p.criticalCount, 0);\n    const totalWarnings = siteReport.pageAnalyses.reduce((sum, p) => sum + p.warningCount, 0);\n    const passed = siteReport.pageAnalyses.reduce((sum, p) => sum + p.issues.filter((i: { status: string }) => i.status === 'pass').length, 0);\n    resultsSummary.innerHTML = `\n      <div class=\"summary-card\">\n        <div class=\"value\">${siteReport.pageAnalyses.length}</div>\n        <div class=\"label\">Pages Analyzed</div>\n      </div>\n      <div class=\"summary-card passed\">\n        <div class=\"value\">${passed}</div>\n        <div class=\"label\">Passed</div>\n      </div>\n      <div class=\"summary-card failed\">\n        <div class=\"value\">${totalCritical}</div>\n        <div class=\"label\">Critical</div>\n      </div>\n      <div class=\"summary-card warnings\">\n        <div class=\"value\">${totalWarnings}</div>\n        <div class=\"label\">Warnings</div>\n      </div>\n    `;\n  } else if (report) {\n    resultsSummary.innerHTML = `\n      <div class=\"summary-card\">\n        <div class=\"value\">${report.summary.totalChecks}</div>\n        <div class=\"label\">Total Checks</div>\n      </div>\n      <div class=\"summary-card passed\">\n        <div class=\"value\">${report.summary.passed}</div>\n        <div class=\"label\">Passed</div>\n      </div>\n      <div class=\"summary-card failed\">\n        <div class=\"value\">${report.summary.failed}</div>\n        <div class=\"label\">Failed</div>\n      </div>\n      <div class=\"summary-card warnings\">\n        <div class=\"value\">${report.summary.warnings}</div>\n        <div class=\"label\">Warnings</div>\n      </div>\n    `;\n  }\n\n  const resultsHeader = resultsSection.querySelector('.results-header h3');\n  if (resultsHeader) {\n    resultsHeader.textContent = isSite ? `Analysis Complete \u2014 Site (${siteReport!.pageAnalyses.length} pages)` : 'Analysis Complete';\n  }\n  resultsSection.style.display = 'block';\n  resultsSection.scrollIntoView({ behavior: 'smooth', block: 'start' });\n}\n\n/**\n * Get gradient color based on score\n */\nfunction getScoreGradient(score: number): string {\n  if (score >= 90) return 'linear-gradient(135deg, #10b981 0%, #059669 100%)';\n  if (score >= 70) return 'linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%)';\n  if (score >= 50) return 'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)';\n  return 'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)';\n}\n\n/**\n * Download the report in specified format (PDF, JSON, or text)\n * PDF: single-page or site report sent to server for correct PDF layout.\n */\nasync function downloadReport(format: 'pdf' | 'json' | 'text'): Promise<void> {\n  const hasReport = currentReport != null;\n  const hasSiteReport =\n    currentSiteReport != null &&\n    currentSiteReport.baseUrl != null &&\n    Array.isArray(currentSiteReport.pageAnalyses);\n  if (!hasReport && !hasSiteReport) return;\n\n  if (format === 'pdf') {\n    try {\n      downloadPdfBtn.disabled = true;\n      const body = hasSiteReport ? { siteReport: currentSiteReport } : { report: currentReport };\n      const res = await fetch('/api/report/pdf', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(body),\n      });\n      if (!res.ok) {\n        const err = await res.json().catch(() => ({}));\n        throw new Error(err.message || err.error || 'PDF download failed');\n      }\n      const blob = await res.blob();\n      const url = URL.createObjectURL(blob);\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = hasSiteReport ? `seo-site-report-${getFilenameDate()}.pdf` : `seo-report-${getFilenameDate()}.pdf`;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      URL.revokeObjectURL(url);\n    } catch (e) {\n      showError((e as Error).message);\n    } finally {\n      downloadPdfBtn.disabled = false;\n    }\n    return;\n  }\n\n  let content: string;\n  let filename: string;\n  let mimeType: string;\n\n  if (format === 'json') {\n    content = hasSiteReport\n      ? JSON.stringify(currentSiteReport, null, 2)\n      : JSON.stringify(currentReport, null, 2);\n    filename = hasSiteReport ? `seo-site-report-${getFilenameDate()}.json` : `seo-report-${getFilenameDate()}.json`;\n    mimeType = 'application/json';\n  } else {\n    content = currentTextReport || (currentReport ? formatReportAsText(currentReport) : '');\n    filename = hasSiteReport ? `seo-site-report-${getFilenameDate()}.txt` : `seo-report-${getFilenameDate()}.txt`;\n    mimeType = 'text/plain';\n  }\n\n  const blob = new Blob([content], { type: mimeType });\n  const url = URL.createObjectURL(blob);\n  const link = document.createElement('a');\n  link.href = url;\n  link.download = filename;\n  document.body.appendChild(link);\n  link.click();\n  document.body.removeChild(link);\n  URL.revokeObjectURL(url);\n}\n\n/**\n * Format report as readable text (fallback if server doesn't provide)\n */\nfunction formatReportAsText(report: SEOReport): string {\n  const lines: string[] = [\n    '\u2550'.repeat(70),\n    '                        SEO ANALYSIS REPORT',\n    '\u2550'.repeat(70),\n    '',\n    `URL: ${report.url}`,\n    `Analyzed: ${new Date(report.analyzedAt).toLocaleString()}`,\n    '',\n    '\u2500'.repeat(70),\n    '                           SCORES',\n    '\u2500'.repeat(70),\n    '',\n    `  Overall:      ${report.scores.overall}/100`,\n    `  Basic:        ${report.scores.basic}/100`,\n    `  Intermediate: ${report.scores.intermediate}/100`,\n    `  Advanced:     ${report.scores.advanced}/100`,\n    '',\n    '\u2500'.repeat(70),\n    '                          SUMMARY',\n    '\u2500'.repeat(70),\n    '',\n    `  Total Checks: ${report.summary.totalChecks}`,\n    `  Passed:       ${report.summary.passed}`,\n    `  Failed:       ${report.summary.failed}`,\n    `  Warnings:     ${report.summary.warnings}`,\n    '',\n  ];\n\n  if (report.pageSpeed) {\n    lines.push(\n      '\u2500'.repeat(70),\n      '                     CORE WEB VITALS',\n      '\u2500'.repeat(70),\n      ''\n    );\n\n    const cwv = report.pageSpeed.coreWebVitals;\n    for (const [key, value] of Object.entries(cwv)) {\n      if (value) {\n        const icon = value.rating === 'good' ? '\u2713' : value.rating === 'needs-improvement' ? '\u26A0' : '\u2717';\n        lines.push(`  ${key.toUpperCase()}: ${icon} ${value.displayValue}`);\n      }\n    }\n\n    lines.push(\n      '',\n      '\u2500'.repeat(70),\n      '                    LIGHTHOUSE SCORES',\n      '\u2500'.repeat(70),\n      ''\n    );\n\n    const lh = report.pageSpeed.lighthouseScores;\n    for (const [key, value] of Object.entries(lh)) {\n      if (value !== null) {\n        lines.push(`  ${key}: ${value}/100`);\n      }\n    }\n    lines.push('');\n  }\n\n  lines.push(\n    '\u2550'.repeat(70),\n    '                  End of SEO Analysis Report',\n    '\u2550'.repeat(70)\n  );\n\n  return lines.join('\\n');\n}\n\n/**\n * Get formatted date for filename\n */\nfunction getFilenameDate(): string {\n  const now = new Date();\n  return `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}-${String(now.getDate()).padStart(2, '0')}`;\n}\n\n/**\n * Reset the form for a new analysis\n */\nfunction resetForm(): void {\n  seoForm.reset();\n  hideResults();\n  hideThinkingPanel();\n  currentReport = null;\n  currentSiteReport = null;\n  currentTextReport = '';\n  thinkingSteps = [];\n  \n  // Reset toggle buttons\n  toggleBtns.forEach(btn => {\n    btn.classList.toggle('active', btn.dataset.mode === 'single');\n  });\n  modeInput.value = 'single';\n  siteOptions.style.display = 'none';\n\n  // Scroll to form\n  document.getElementById('analyze')?.scrollIntoView({ behavior: 'smooth' });\n}\n\n/**\n * UI Helper Functions\n */\nfunction setLoadingState(loading: boolean): void {\n  submitBtn.disabled = loading;\n  btnText.style.display = loading ? 'none' : 'inline';\n  btnLoader.style.display = loading ? 'flex' : 'none';\n}\n\nfunction showThinkingPanel(): void {\n  thinkingPanel.style.display = 'block';\n}\n\nfunction hideThinkingPanel(): void {\n  thinkingPanel.style.display = 'none';\n}\n\nfunction toggleThinkingPanel(): void {\n  const content = thinkingContent;\n  const isHidden = content.style.display === 'none';\n  content.style.display = isHidden ? 'block' : 'none';\n  const chevron = minimizeThinkingBtn.querySelector('.thinking-chevron');\n  if (chevron) chevron.textContent = isHidden ? '\u25BC' : '\u25B2';\n  minimizeThinkingBtn.setAttribute('aria-expanded', String(isHidden));\n}\n\nfunction hideResults(): void {\n  resultsSection.style.display = 'none';\n}\n\nfunction showError(message: string): void {\n  // Create toast notification\n  const toast = document.createElement('div');\n  toast.className = 'toast-error';\n  toast.innerHTML = `\n    <span class=\"toast-icon\">\u2717</span>\n    <span class=\"toast-message\">${message}</span>\n  `;\n  toast.style.cssText = `\n    position: fixed;\n    bottom: 2rem;\n    right: 2rem;\n    background: #ef4444;\n    color: white;\n    padding: 1rem 1.5rem;\n    border-radius: 0.5rem;\n    display: flex;\n    align-items: center;\n    gap: 0.75rem;\n    font-size: 0.875rem;\n    box-shadow: 0 4px 12px rgba(0,0,0,0.3);\n    z-index: 1000;\n    animation: slideIn 0.3s ease;\n  `;\n  \n  document.body.appendChild(toast);\n  \n  // Remove after 5 seconds\n  setTimeout(() => {\n    toast.style.animation = 'slideOut 0.3s ease';\n    setTimeout(() => toast.remove(), 300);\n  }, 5000);\n}\n\nfunction validateUrl(url: string): boolean {\n  try {\n    const parsed = new URL(url);\n    return parsed.protocol === 'http:' || parsed.protocol === 'https:';\n  } catch {\n    return false;\n  }\n}\n\nfunction delay(ms: number): Promise<void> {\n  return new Promise(resolve => setTimeout(resolve, ms));\n}\n\n// Add toast animation styles\nconst style = document.createElement('style');\nstyle.textContent = `\n  @keyframes slideIn {\n    from { transform: translateX(100%); opacity: 0; }\n    to { transform: translateX(0); opacity: 1; }\n  }\n  @keyframes slideOut {\n    from { transform: translateX(0); opacity: 1; }\n    to { transform: translateX(100%); opacity: 0; }\n  }\n`;\ndocument.head.appendChild(style);\n\n// Declare grecaptcha for TypeScript\ndeclare const grecaptcha: {\n  ready: (callback: () => void) => void;\n  execute: (siteKey: string, options: { action: string }) => Promise<string>;\n};\n\n// Initialize when DOM is ready\ndocument.addEventListener('DOMContentLoaded', init);\n"],
  "mappings": "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",
  "names": ["CONFIG", "seoForm", "submitBtn", "btnText", "btnLoader", "thinkingPanel", "thinkingContent", "resultsSection", "resultsSummary", "overallScore", "toggleBtns", "modeInput", "siteOptions", "downloadPdfBtn", "downloadJsonBtn", "downloadTextBtn", "newAnalysisBtn", "minimizeThinkingBtn", "currentReport", "currentSiteReport", "currentTextReport", "thinkingSteps", "init", "handleFormSubmit", "btn", "handleModeToggle", "downloadReport", "resetForm", "toggleThinkingPanel", "anchor", "e", "href", "target", "elementPosition", "scrollPadding", "offsetPosition", "clickedBtn", "mode", "formData", "url", "maxPagesRaw", "maxPages", "validateUrl", "showError", "recaptchaToken", "executeRecaptcha", "startAnalysis", "resolve", "reject", "options", "setLoadingState", "showThinkingPanel", "hideResults", "initThinkingSteps", "result", "performStreamingAnalysis", "showResults", "performAnalysis", "error", "errorMessage", "addThinkingStep", "renderThinkingSteps", "id", "title", "detail", "status", "existingIndex", "step", "getStepIcon", "titleEl", "running", "s", "lastActive", "updateThinkingStep", "stepId", "resolved", "params", "eventSource", "event", "data", "delay", "body", "response", "report", "siteReport", "isSite", "score", "scoreValue", "getScoreGradient", "totalIssues", "sum", "p", "totalCritical", "totalWarnings", "passed", "i", "resultsHeader", "format", "hasReport", "hasSiteReport", "res", "err", "blob", "link", "getFilenameDate", "content", "filename", "mimeType", "formatReportAsText", "lines", "cwv", "key", "value", "icon", "lh", "now", "hideThinkingPanel", "loading", "isHidden", "chevron", "message", "toast", "parsed", "ms", "style"]
}
