{
  "version": 3,
  "sources": ["app.ts"],
  "sourcesContent": ["/**\n * SEO Agent Frontend Application\n * Handles form submission, reCAPTCHA verification, analysis process, and report display\n * Connects to backend API for real SEO analysis.\n * All keys/IDs (e.g. RECAPTCHA_SITE_KEY) are injected by the server from env - never hardcoded.\n */\n\n// Configuration: keys and feature flags come from window.__ENV__ (injected by server from .env)\ndeclare global {\n  interface Window {\n    __ENV__?: {\n      RECAPTCHA_SITE_KEY?: string;\n      ENABLE_RECAPTCHA?: boolean;\n    };\n  }\n}\n\nconst CONFIG = {\n  RECAPTCHA_SITE_KEY: (typeof window !== 'undefined' && window.__ENV__?.RECAPTCHA_SITE_KEY) || '',\n  ENABLE_RECAPTCHA: (typeof window !== 'undefined' && window.__ENV__?.ENABLE_RECAPTCHA) === true,\n  API_ENDPOINT: '/api/analyze',\n  API_STREAM_ENDPOINT: '/api/analyze/stream',\n  USE_STREAMING: true,\n};\n\n// Type definitions \u2014 always Full Site mode\ninterface AnalysisOptions {\n  url: string;\n  mode: 'site';\n  maxPages: number;\n}\n\ninterface ThinkingStep {\n  id: string;\n  title: string;\n  detail?: string;\n  status: 'pending' | 'running' | 'done' | 'error' | 'warning' | 'skipped';\n}\n\ninterface SEOReport {\n  url: string;\n  analyzedAt: string;\n  scores: {\n    overall: number;\n    basic: number;\n    intermediate: number;\n    advanced: number;\n  };\n  summary: {\n    totalChecks: number;\n    passed: number;\n    failed: number;\n    warnings: number;\n  };\n  issues: Array<{\n    category: string;\n    checkName: string;\n    status: string;\n    description: string;\n    recommendation: string;\n  }>;\n  pageSpeed?: {\n    coreWebVitals: Record<string, { value: number; rating: string; displayValue: string }>;\n    lighthouseScores: Record<string, number | null>;\n  };\n}\n\n/** Site analysis: multiple pages with per-page scores and issues */\ninterface SiteReport {\n  baseUrl: string;\n  analyzedAt: string;\n  depth: string;\n  crawlStats: { totalCrawled: number; failedPages: number; crawlDuration: number };\n  scores: { overall: number; averagePageScore: number; lowestPageScore: number; highestPageScore: number };\n  pageAnalyses: Array<{ url: string; score: number; issues: unknown[]; criticalCount: number; warningCount: number }>;\n  recommendations?: { critical: string[]; important: string[]; suggestions: string[] };\n}\n\ninterface ApiResponse {\n  success: boolean;\n  report: SEOReport | null;\n  siteReport: SiteReport | null;\n  textReport: string;\n  error?: string;\n}\n\n// DOM Elements\nconst seoForm = document.getElementById('seo-form') as HTMLFormElement;\nconst urlInput = document.getElementById('url') as HTMLInputElement | null;\nconst submitBtn = document.getElementById('submit-btn') as HTMLButtonElement;\nconst btnText = submitBtn.querySelector('.btn-text') as HTMLSpanElement;\nconst btnLoader = submitBtn.querySelector('.btn-loader') as HTMLSpanElement;\nconst thinkingPanel = document.getElementById('thinking-panel') as HTMLDivElement;\nconst thinkingContent = document.getElementById('thinking-content') as HTMLDivElement;\nconst resultsSection = document.getElementById('results-section') as HTMLDivElement;\nconst resultsSummary = document.getElementById('results-summary') as HTMLDivElement;\nconst overallScore = document.getElementById('overall-score') as HTMLDivElement;\nconst downloadPdfBtn = document.getElementById('download-pdf') as HTMLButtonElement;\nconst downloadJsonBtn = document.getElementById('download-json') as HTMLButtonElement;\nconst downloadTextBtn = document.getElementById('download-text') as HTMLButtonElement;\nconst newAnalysisBtn = document.getElementById('new-analysis') as HTMLButtonElement;\nconst minimizeThinkingBtn = document.getElementById('minimize-thinking') as HTMLButtonElement;\nconst urlErrorEl = document.getElementById('url-error') as HTMLDivElement | null;\n\n// State: single-page report or site report (mutually exclusive)\nlet currentReport: SEOReport | null = null;\nlet currentSiteReport: SiteReport | null = null;\nlet currentTextReport: string = '';\nlet thinkingSteps: ThinkingStep[] = [];\n\n/**\n * Initialize the application\n */\nfunction init(): void {\n  // Form submission handler\n  seoForm.addEventListener('submit', handleFormSubmit);\n\n  // Download buttons (PDF is primary; JSON and text also available)\n  downloadPdfBtn.addEventListener('click', () => downloadReport('pdf'));\n  downloadJsonBtn.addEventListener('click', () => downloadReport('json'));\n  downloadTextBtn.addEventListener('click', () => downloadReport('text'));\n\n  // New analysis button\n  newAnalysisBtn.addEventListener('click', resetForm);\n\n  // Minimize thinking panel\n  minimizeThinkingBtn.addEventListener('click', toggleThinkingPanel);\n\n  // Clear URL validation error when user edits the field\n  if (urlInput) {\n    urlInput.addEventListener('input', clearUrlError);\n  }\n\n  // Smooth scroll for anchor links - enhanced for all devices\n  document.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\n    anchor.addEventListener('click', (e) => {\n      e.preventDefault();\n      const href = (anchor as HTMLAnchorElement).getAttribute('href');\n      if (!href) return;\n      \n      const target = document.querySelector(href) as HTMLElement;\n      if (target) {\n        // Get the element's position relative to the document\n        const elementPosition = target.getBoundingClientRect().top + window.pageYOffset;\n        const scrollPadding = parseInt(getComputedStyle(document.documentElement).scrollPaddingTop || '0') || 16;\n        const offsetPosition = elementPosition - scrollPadding;\n        \n        // Use window.scrollTo for reliable cross-browser support on desktop and mobile\n        // This method works consistently across all browsers and screen sizes\n        window.scrollTo({\n          top: offsetPosition,\n          behavior: 'smooth'\n        });\n      }\n    });\n  });\n}\n\n/**\n * Handle form submission\n */\nasync function handleFormSubmit(e: Event): Promise<void> {\n  e.preventDefault();\n\n  // Validate form \u2014 always Full Site mode\n  const formData = new FormData(seoForm);\n  const url = formData.get('url') as string;\n  const maxPagesRaw = parseInt(String(formData.get('maxPages')), 10);\n  const maxPages = Math.min(Math.max(Number.isNaN(maxPagesRaw) ? 1 : maxPagesRaw, 1), 500);\n\n  // Validate URL (same rules as reference page.tsx): trim, require http/https, allow normalizing\n  const validation = validateUrl(url);\n  if (!validation.isValid) {\n    showUrlError(validation.error ?? 'Please enter a valid website URL');\n    return;\n  }\n  clearUrlError();\n  const finalUrl = validation.normalizedUrl ?? url;\n\n  // Execute reCAPTCHA if enabled\n  let recaptchaToken = '';\n  if (CONFIG.ENABLE_RECAPTCHA) {\n    try {\n      recaptchaToken = await executeRecaptcha();\n    } catch (error) {\n      showError('reCAPTCHA verification failed. Please try again.');\n      return;\n    }\n  }\n\n  // Start analysis (depth is always 'all' for full analysis); use normalized URL\n  const options: AnalysisOptions = {\n    url: finalUrl,\n    mode: 'site',\n    maxPages,\n  };\n\n  await startAnalysis(options, recaptchaToken);\n}\n\n/**\n * Execute reCAPTCHA v3\n */\nfunction executeRecaptcha(): Promise<string> {\n  return new Promise((resolve, reject) => {\n    if (!CONFIG.RECAPTCHA_SITE_KEY) {\n      reject(new Error('reCAPTCHA site key not configured'));\n      return;\n    }\n    if (typeof grecaptcha === 'undefined') {\n      reject(new Error('reCAPTCHA not loaded'));\n      return;\n    }\n\n    grecaptcha.ready(() => {\n      grecaptcha\n        .execute(CONFIG.RECAPTCHA_SITE_KEY, { action: 'analyze' })\n        .then(resolve)\n        .catch(reject);\n    });\n  });\n}\n\n/**\n * Start the analysis process\n */\nasync function startAnalysis(options: AnalysisOptions, recaptchaToken: string): Promise<void> {\n  // Update UI to loading state\n  setLoadingState(true);\n  showThinkingPanel();\n  hideResults();\n\n  // Initialize thinking steps\n  initThinkingSteps(options);\n\n  try {\n    if (CONFIG.USE_STREAMING) {\n      const result = await performStreamingAnalysis(options);\n      currentReport = result.report;\n      currentSiteReport = result.siteReport;\n      showResults(result.report, result.siteReport);\n    } else {\n      const result = await performAnalysis(options, recaptchaToken);\n      currentReport = result.report;\n      currentSiteReport = result.siteReport;\n      showResults(result.report, result.siteReport);\n    }\n  } catch (error) {\n    const errorMessage = (error as Error).message || 'Analysis failed. Please try again.';\n    addThinkingStep('error', 'Analysis failed', errorMessage, 'error');\n    showError(errorMessage);\n  } finally {\n    setLoadingState(false);\n  }\n}\n\n/**\n * Initialize thinking steps based on analysis options\n * Depth is always 'all' for full analysis\n */\nfunction initThinkingSteps(options: AnalysisOptions): void {\n  thinkingSteps = [\n    { id: 'validate', title: 'Validating URL', status: 'pending' },\n    { id: 'crawl', title: 'Crawling website', status: 'pending' },\n    { id: 'basic', title: 'Running basic SEO checks', status: 'pending' },\n    { id: 'intermediate', title: 'Running intermediate checks', status: 'pending' },\n    { id: 'advanced', title: 'Running advanced checks', status: 'pending' },\n    { id: 'pagespeed', title: 'Fetching PageSpeed Insights', status: 'pending' },\n    { id: 'crux', title: 'Fetching Chrome UX Report (real-user metrics)', status: 'pending' },\n    { id: 'report', title: 'Generating report', status: 'pending' },\n  ];\n\n  renderThinkingSteps();\n}\n\n/**\n * Add a new thinking step dynamically\n */\nfunction addThinkingStep(id: string, title: string, detail: string, status: ThinkingStep['status']): void {\n  const existingIndex = thinkingSteps.findIndex(s => s.id === id);\n  if (existingIndex >= 0) {\n    thinkingSteps[existingIndex] = { id, title, detail, status };\n  } else {\n    thinkingSteps.push({ id, title, detail, status });\n  }\n  renderThinkingSteps();\n}\n\n/**\n * Render thinking steps in the UI\n */\nfunction renderThinkingSteps(): void {\n  thinkingContent.innerHTML = thinkingSteps.map(step => `\n    <div class=\"thinking-step\" data-step-id=\"${step.id}\">\n      <div class=\"step-icon ${step.status}\">${getStepIcon(step.status)}</div>\n      <div class=\"step-content\">\n        <div class=\"step-title\">${step.title}</div>\n        ${step.detail ? `<div class=\"step-detail\">${step.detail}</div>` : ''}\n      </div>\n    </div>\n  `).join('');\n\n  // Update panel header title to current/running step (like sample)\n  const titleEl = thinkingPanel.querySelector('.thinking-title');\n  if (titleEl) {\n    const running = thinkingSteps.find(s => s.status === 'running');\n    const lastActive = [...thinkingSteps].reverse().find(s => s.status !== 'pending');\n    titleEl.textContent = running?.title ?? lastActive?.title ?? thinkingSteps[0]?.title ?? 'AI Agent Thinking';\n  }\n\n  thinkingContent.scrollTop = thinkingContent.scrollHeight;\n}\n\n/**\n * Get icon for step status\n */\nfunction getStepIcon(status: string): string {\n  switch (status) {\n    case 'pending': return '\u25CB';\n    case 'running': return '\u25D0';\n    case 'done': return '\u2713';\n    case 'error': return '\u2717';\n    case 'warning': return '\u26A0';\n    case 'skipped': return '\u2212';\n    default: return '\u25CB';\n  }\n}\n\n/**\n * Update a thinking step's status.\n * When report step starts, mark crux as skipped if still pending (no CrUX API key or not run).\n */\nfunction updateThinkingStep(stepId: string, status: ThinkingStep['status'], detail?: string): void {\n  const step = thinkingSteps.find(s => s.id === stepId);\n  if (step) {\n    step.status = status;\n    if (detail !== undefined) step.detail = detail;\n    if (stepId === 'report' && status === 'running') {\n      const cruxStep = thinkingSteps.find(s => s.id === 'crux');\n      if (cruxStep?.status === 'pending') {\n        cruxStep.status = 'skipped';\n        cruxStep.detail = 'Skipped (no API key or not run)';\n      }\n    }\n    renderThinkingSteps();\n  }\n}\n\n/**\n * Perform analysis using Server-Sent Events for real-time progress\n */\nasync function performStreamingAnalysis(options: AnalysisOptions): Promise<{ report: SEOReport | null; siteReport: SiteReport | null }> {\n  return new Promise((resolve, reject) => {\n    let resolved = false;\n    const params = new URLSearchParams();\n    params.set('url', options.url);\n    params.set('depth', 'all');\n    params.set('mode', 'site');\n    params.set('maxPages', String(options.maxPages));\n\n    const eventSource = new EventSource(`${CONFIG.API_STREAM_ENDPOINT}?${params.toString()}`);\n\n    eventSource.addEventListener('step', (event) => {\n      const data = JSON.parse((event as MessageEvent).data);\n      updateThinkingStep(data.id, data.status, data.detail || data.title);\n    });\n\n    eventSource.addEventListener('complete', (event) => {\n      const data = JSON.parse((event as MessageEvent).data);\n      currentTextReport = data.textReport || '';\n      resolved = true;\n      eventSource.close();\n      resolve({\n        report: data.report ?? null,\n        siteReport: data.siteReport ?? null,\n      });\n    });\n\n    eventSource.addEventListener('error', (event) => {\n      eventSource.close();\n      if (resolved) return;\n      if (event instanceof MessageEvent && typeof event.data === 'string' && event.data) {\n        try {\n          const data = JSON.parse(event.data);\n          reject(new Error(data.message || 'Analysis failed'));\n        } catch {\n          reject(new Error('Connection to server lost'));\n        }\n      } else {\n        reject(new Error('Connection to server lost'));\n      }\n    });\n\n    setTimeout(() => {\n      if (eventSource.readyState !== EventSource.CLOSED) {\n        eventSource.close();\n        reject(new Error('Analysis timed out. Please try again.'));\n      }\n    }, 180000);\n  });\n}\n\n/**\n * Perform analysis using regular POST request\n */\nasync function performAnalysis(options: AnalysisOptions, recaptchaToken: string): Promise<{ report: SEOReport | null; siteReport: SiteReport | null }> {\n  const simulateSteps = async () => {\n    updateThinkingStep('validate', 'running');\n    await delay(300);\n    updateThinkingStep('validate', 'done');\n    updateThinkingStep('crawl', 'running');\n  };\n\n  simulateSteps();\n\n  const body: Record<string, unknown> = {\n    url: options.url,\n    depth: 'all',\n    recaptchaToken,\n    mode: 'site',\n    maxPages: options.maxPages,\n  };\n\n  const response = await fetch(CONFIG.API_ENDPOINT, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(body),\n  });\n\n  const data: ApiResponse = await response.json();\n\n  if (!response.ok || !data.success) {\n    throw new Error(data.error || 'Analysis failed');\n  }\n\n  thinkingSteps.forEach(step => { step.status = 'done'; });\n  renderThinkingSteps();\n  currentTextReport = data.textReport || '';\n\n  return {\n    report: data.report ?? null,\n    siteReport: data.siteReport ?? null,\n  };\n}\n\n/**\n * Show the results section with the report data (single page or site)\n */\nfunction showResults(report: SEOReport | null, siteReport: SiteReport | null): void {\n  const isSite = siteReport != null && siteReport.pageAnalyses?.length > 0;\n  const score = isSite ? siteReport.scores.averagePageScore : (report?.scores.overall ?? 0);\n  const scoreValue = overallScore.querySelector('.score-value') as HTMLSpanElement;\n  scoreValue.textContent = String(score);\n\n  overallScore.style.background = getScoreGradient(score);\n  overallScore.style.color = '#fff';\n\n  if (isSite) {\n    const totalIssues = siteReport.pageAnalyses.reduce((sum, p) => sum + p.issues.length, 0);\n    const totalCritical = siteReport.pageAnalyses.reduce((sum, p) => sum + p.criticalCount, 0);\n    const totalWarnings = siteReport.pageAnalyses.reduce((sum, p) => sum + p.warningCount, 0);\n    const passed = siteReport.pageAnalyses.reduce((sum, p) => sum + p.issues.filter((i: { status: string }) => i.status === 'pass').length, 0);\n    resultsSummary.innerHTML = `\n      <div class=\"summary-card\">\n        <div class=\"value\">${siteReport.pageAnalyses.length}</div>\n        <div class=\"label\">Pages Analyzed</div>\n      </div>\n      <div class=\"summary-card passed\">\n        <div class=\"value\">${passed}</div>\n        <div class=\"label\">Passed</div>\n      </div>\n      <div class=\"summary-card failed\">\n        <div class=\"value\">${totalCritical}</div>\n        <div class=\"label\">Critical</div>\n      </div>\n      <div class=\"summary-card warnings\">\n        <div class=\"value\">${totalWarnings}</div>\n        <div class=\"label\">Warnings</div>\n      </div>\n    `;\n  } else if (report) {\n    resultsSummary.innerHTML = `\n      <div class=\"summary-card\">\n        <div class=\"value\">${report.summary.totalChecks}</div>\n        <div class=\"label\">Total Checks</div>\n      </div>\n      <div class=\"summary-card passed\">\n        <div class=\"value\">${report.summary.passed}</div>\n        <div class=\"label\">Passed</div>\n      </div>\n      <div class=\"summary-card failed\">\n        <div class=\"value\">${report.summary.failed}</div>\n        <div class=\"label\">Failed</div>\n      </div>\n      <div class=\"summary-card warnings\">\n        <div class=\"value\">${report.summary.warnings}</div>\n        <div class=\"label\">Warnings</div>\n      </div>\n    `;\n  }\n\n  const resultsHeader = resultsSection.querySelector('.results-header h3');\n  if (resultsHeader) {\n    resultsHeader.textContent = isSite ? `Analysis Complete \u2014 Site (${siteReport!.pageAnalyses.length} pages)` : 'Analysis Complete';\n  }\n  resultsSection.style.display = 'block';\n  resultsSection.scrollIntoView({ behavior: 'smooth', block: 'start' });\n}\n\n/**\n * Get gradient color based on score\n */\nfunction getScoreGradient(score: number): string {\n  if (score >= 90) return 'linear-gradient(135deg, #10b981 0%, #059669 100%)';\n  if (score >= 70) return 'linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%)';\n  if (score >= 50) return 'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)';\n  return 'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)';\n}\n\n/**\n * Download the report in specified format (PDF, JSON, or text)\n * PDF: single-page or site report sent to server for correct PDF layout.\n */\nasync function downloadReport(format: 'pdf' | 'json' | 'text'): Promise<void> {\n  const hasReport = currentReport != null;\n  const hasSiteReport =\n    currentSiteReport != null &&\n    currentSiteReport.baseUrl != null &&\n    Array.isArray(currentSiteReport.pageAnalyses);\n  if (!hasReport && !hasSiteReport) return;\n\n  if (format === 'pdf') {\n    try {\n      downloadPdfBtn.disabled = true;\n      const body = hasSiteReport ? { siteReport: currentSiteReport } : { report: currentReport };\n      const res = await fetch('/api/report/pdf', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(body),\n      });\n      if (!res.ok) {\n        const err = await res.json().catch(() => ({}));\n        throw new Error(err.message || err.error || 'PDF download failed');\n      }\n      const blob = await res.blob();\n      const url = URL.createObjectURL(blob);\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = hasSiteReport ? `seo-site-report-${getFilenameDate()}.pdf` : `seo-report-${getFilenameDate()}.pdf`;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      URL.revokeObjectURL(url);\n    } catch (e) {\n      showError((e as Error).message);\n    } finally {\n      downloadPdfBtn.disabled = false;\n    }\n    return;\n  }\n\n  let content: string;\n  let filename: string;\n  let mimeType: string;\n\n  if (format === 'json') {\n    content = hasSiteReport\n      ? JSON.stringify(currentSiteReport, null, 2)\n      : JSON.stringify(currentReport, null, 2);\n    filename = hasSiteReport ? `seo-site-report-${getFilenameDate()}.json` : `seo-report-${getFilenameDate()}.json`;\n    mimeType = 'application/json';\n  } else {\n    content = currentTextReport || (currentReport ? formatReportAsText(currentReport) : '');\n    filename = hasSiteReport ? `seo-site-report-${getFilenameDate()}.txt` : `seo-report-${getFilenameDate()}.txt`;\n    mimeType = 'text/plain';\n  }\n\n  const blob = new Blob([content], { type: mimeType });\n  const url = URL.createObjectURL(blob);\n  const link = document.createElement('a');\n  link.href = url;\n  link.download = filename;\n  document.body.appendChild(link);\n  link.click();\n  document.body.removeChild(link);\n  URL.revokeObjectURL(url);\n}\n\n/**\n * Format report as readable text (fallback if server doesn't provide)\n */\nfunction formatReportAsText(report: SEOReport): string {\n  const lines: string[] = [\n    '\u2550'.repeat(70),\n    '                        SEO ANALYSIS REPORT',\n    '\u2550'.repeat(70),\n    '',\n    `URL: ${report.url}`,\n    `Analyzed: ${new Date(report.analyzedAt).toLocaleString()}`,\n    '',\n    '\u2500'.repeat(70),\n    '                           SCORES',\n    '\u2500'.repeat(70),\n    '',\n    `  Overall:      ${report.scores.overall}/100`,\n    `  Basic:        ${report.scores.basic}/100`,\n    `  Intermediate: ${report.scores.intermediate}/100`,\n    `  Advanced:     ${report.scores.advanced}/100`,\n    '',\n    '\u2500'.repeat(70),\n    '                          SUMMARY',\n    '\u2500'.repeat(70),\n    '',\n    `  Total Checks: ${report.summary.totalChecks}`,\n    `  Passed:       ${report.summary.passed}`,\n    `  Failed:       ${report.summary.failed}`,\n    `  Warnings:     ${report.summary.warnings}`,\n    '',\n  ];\n\n  if (report.pageSpeed) {\n    lines.push(\n      '\u2500'.repeat(70),\n      '                     CORE WEB VITALS',\n      '\u2500'.repeat(70),\n      ''\n    );\n\n    const cwv = report.pageSpeed.coreWebVitals;\n    for (const [key, value] of Object.entries(cwv)) {\n      if (value) {\n        const icon = value.rating === 'good' ? '\u2713' : value.rating === 'needs-improvement' ? '\u26A0' : '\u2717';\n        lines.push(`  ${key.toUpperCase()}: ${icon} ${value.displayValue}`);\n      }\n    }\n\n    lines.push(\n      '',\n      '\u2500'.repeat(70),\n      '                    LIGHTHOUSE SCORES',\n      '\u2500'.repeat(70),\n      ''\n    );\n\n    const lh = report.pageSpeed.lighthouseScores;\n    for (const [key, value] of Object.entries(lh)) {\n      if (value !== null) {\n        lines.push(`  ${key}: ${value}/100`);\n      }\n    }\n    lines.push('');\n  }\n\n  lines.push(\n    '\u2550'.repeat(70),\n    '                  End of SEO Analysis Report',\n    '\u2550'.repeat(70)\n  );\n\n  return lines.join('\\n');\n}\n\n/**\n * Get formatted date for filename\n */\nfunction getFilenameDate(): string {\n  const now = new Date();\n  return `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}-${String(now.getDate()).padStart(2, '0')}`;\n}\n\n/**\n * Reset the form for a new analysis\n */\nfunction resetForm(): void {\n  seoForm.reset();\n  clearUrlError();\n  hideResults();\n  hideThinkingPanel();\n  currentReport = null;\n  currentSiteReport = null;\n  currentTextReport = '';\n  thinkingSteps = [];\n\n  // Reset Max Pages to default\n  const maxPagesInput = document.getElementById('maxPages') as HTMLInputElement;\n  if (maxPagesInput) maxPagesInput.value = '1';\n\n  // Scroll to form\n  document.getElementById('analyze')?.scrollIntoView({ behavior: 'smooth' });\n}\n\n/**\n * UI Helper Functions\n */\nfunction setLoadingState(loading: boolean): void {\n  submitBtn.disabled = loading;\n  btnText.style.display = loading ? 'none' : 'inline';\n  btnLoader.style.display = loading ? 'flex' : 'none';\n}\n\nfunction showThinkingPanel(): void {\n  thinkingPanel.style.display = 'block';\n}\n\nfunction hideThinkingPanel(): void {\n  thinkingPanel.style.display = 'none';\n}\n\nfunction toggleThinkingPanel(): void {\n  const content = thinkingContent;\n  const isHidden = content.style.display === 'none';\n  content.style.display = isHidden ? 'block' : 'none';\n  const chevron = minimizeThinkingBtn.querySelector('.thinking-chevron');\n  if (chevron) chevron.textContent = isHidden ? '\u25BC' : '\u25B2';\n  minimizeThinkingBtn.setAttribute('aria-expanded', String(isHidden));\n}\n\nfunction hideResults(): void {\n  resultsSection.style.display = 'none';\n}\n\nfunction showError(message: string): void {\n  // Create toast notification\n  const toast = document.createElement('div');\n  toast.className = 'toast-error';\n  toast.innerHTML = `\n    <span class=\"toast-icon\">\u2717</span>\n    <span class=\"toast-message\">${message}</span>\n  `;\n  toast.style.cssText = `\n    position: fixed;\n    bottom: 2rem;\n    right: 2rem;\n    background: #ef4444;\n    color: white;\n    padding: 1rem 1.5rem;\n    border-radius: 0.5rem;\n    display: flex;\n    align-items: center;\n    gap: 0.75rem;\n    font-size: 0.875rem;\n    box-shadow: 0 4px 12px rgba(0,0,0,0.3);\n    z-index: 1000;\n    animation: slideIn 0.3s ease;\n  `;\n  \n  document.body.appendChild(toast);\n  \n  // Remove after 5 seconds\n  setTimeout(() => {\n    toast.style.animation = 'slideOut 0.3s ease';\n    setTimeout(() => toast.remove(), 300);\n  }, 5000);\n}\n\n/**\n * Normalize URL: add https:// if no protocol (matches reference page.tsx).\n */\nfunction normalizeUrl(url: string): string {\n  const trimmed = url.trim();\n  if (!trimmed) return trimmed;\n  if (/^https?:\\/\\//i.test(trimmed)) return trimmed;\n  return `https://${trimmed}`;\n}\n\n/**\n * Validate URL: require http/https, allow normalizing. Returns result object with error message and normalized URL (matches reference page.tsx).\n */\nfunction validateUrl(url: string): { isValid: boolean; error?: string; normalizedUrl?: string } {\n  const trimmed = (url ?? '').trim();\n\n  if (!trimmed) {\n    return { isValid: false, error: 'Please enter a website URL' };\n  }\n\n  try {\n    const parsed = new URL(trimmed);\n    if (parsed.protocol !== 'http:' && parsed.protocol !== 'https:') {\n      return { isValid: false, error: 'URL must use http:// or https:// protocol' };\n    }\n    if (!parsed.hostname) {\n      return { isValid: false, error: 'Please enter a valid URL starting with http:// or https://' };\n    }\n    return { isValid: true, normalizedUrl: trimmed };\n  } catch {\n    const normalized = normalizeUrl(trimmed);\n    try {\n      const parsed = new URL(normalized);\n      if (parsed.protocol !== 'http:' && parsed.protocol !== 'https:') {\n        return { isValid: false, error: 'URL must use http:// or https:// protocol' };\n      }\n      return { isValid: true, normalizedUrl: normalized };\n    } catch {\n      return { isValid: false, error: 'Please enter a valid URL starting with http:// or https://' };\n    }\n  }\n}\n\nfunction showUrlError(message: string): void {\n  if (urlErrorEl) {\n    urlErrorEl.textContent = message;\n    urlErrorEl.style.display = 'block';\n  } else {\n    showError(message);\n  }\n}\n\nfunction clearUrlError(): void {\n  if (urlErrorEl) {\n    urlErrorEl.textContent = '';\n    urlErrorEl.style.display = 'none';\n  }\n}\n\nfunction delay(ms: number): Promise<void> {\n  return new Promise(resolve => setTimeout(resolve, ms));\n}\n\n// Add toast animation styles\nconst style = document.createElement('style');\nstyle.textContent = `\n  @keyframes slideIn {\n    from { transform: translateX(100%); opacity: 0; }\n    to { transform: translateX(0); opacity: 1; }\n  }\n  @keyframes slideOut {\n    from { transform: translateX(0); opacity: 1; }\n    to { transform: translateX(100%); opacity: 0; }\n  }\n`;\ndocument.head.appendChild(style);\n\n// Declare grecaptcha for TypeScript\ndeclare const grecaptcha: {\n  ready: (callback: () => void) => void;\n  execute: (siteKey: string, options: { action: string }) => Promise<string>;\n};\n\n// Initialize when DOM is ready\ndocument.addEventListener('DOMContentLoaded', init);\n"],
  "mappings": "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",
  "names": ["CONFIG", "seoForm", "urlInput", "submitBtn", "btnText", "btnLoader", "thinkingPanel", "thinkingContent", "resultsSection", "resultsSummary", "overallScore", "downloadPdfBtn", "downloadJsonBtn", "downloadTextBtn", "newAnalysisBtn", "minimizeThinkingBtn", "urlErrorEl", "currentReport", "currentSiteReport", "currentTextReport", "thinkingSteps", "init", "handleFormSubmit", "downloadReport", "resetForm", "toggleThinkingPanel", "clearUrlError", "anchor", "e", "href", "target", "elementPosition", "scrollPadding", "offsetPosition", "formData", "url", "maxPagesRaw", "maxPages", "validation", "validateUrl", "showUrlError", "finalUrl", "recaptchaToken", "executeRecaptcha", "showError", "startAnalysis", "resolve", "reject", "options", "setLoadingState", "showThinkingPanel", "hideResults", "initThinkingSteps", "result", "performStreamingAnalysis", "showResults", "performAnalysis", "error", "errorMessage", "addThinkingStep", "renderThinkingSteps", "id", "title", "detail", "status", "existingIndex", "step", "getStepIcon", "titleEl", "running", "s", "lastActive", "updateThinkingStep", "stepId", "cruxStep", "resolved", "params", "eventSource", "event", "data", "delay", "body", "response", "report", "siteReport", "isSite", "score", "scoreValue", "getScoreGradient", "totalIssues", "sum", "p", "totalCritical", "totalWarnings", "passed", "i", "resultsHeader", "format", "hasReport", "hasSiteReport", "res", "err", "blob", "link", "getFilenameDate", "content", "filename", "mimeType", "formatReportAsText", "lines", "cwv", "key", "value", "icon", "lh", "now", "hideThinkingPanel", "maxPagesInput", "loading", "isHidden", "chevron", "message", "toast", "normalizeUrl", "trimmed", "parsed", "normalized", "ms", "style"]
}
